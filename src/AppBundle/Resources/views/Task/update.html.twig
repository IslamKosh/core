{% extends '::base.html.twig' %}

{% form_theme form 'bootstrap_3_layout.html.twig' %}

{% block pageTitle %}Edit Task{% endblock %}

{% block bodyClass %}edit-task{% endblock %}

{% block body %}

    <div class="row">

        <div class="col-md-12">

            <div class="box">

                <div class="box-body">

                    <div class="nav-tabs-custom">

                        <ul class="nav nav-tabs nav-tabs-lg">
                            <li class="active"><a href="#tab_1" data-toggle="tab">Summary</a></li>
                            <li><a href="#tab_2" data-toggle="tab">Contents</a></li>
                            <li><a href="#tab_3" data-toggle="tab">Images</a></li>
                        </ul>

                        <div class="tab-content">

                            <div class="tab-pane active" id="tab_1">

                                <form action="{{ path('task_update', {'id': task.id}) }}" method="post" {{ form_enctype(form) }}>

                                    <div class="row">

                                        <div class="col-md-6">
                                            {{ form_row(form.title) }}
                                            {{ form_row(form.description) }}
                                            {{ form_row(form.reference) }}
                                            {{ form_row(form._token) }}
                                        </div>

                                        <div class="clearfix"></div>

                                    </div>

                                    <input class="btn btn-success" type="submit" value=" Save Task "/>
                                    <input type="hidden" name="_method" value="PUT"/>

                                </form>

                            </div>

                            <div class="tab-pane" id="tab_2">

                                <form action="{{ path('task_update', {'id': task.id}) }}" method="post" {{ form_enctype(form) }}>

                                    <div class="row" style="margin: 10px 0;">

                                        <div class="col-md-12" style="padding: 0;">
                                            {{ form_widget(form.contents) }}
                                            {{ form_row(form._token) }}
                                        </div>

                                        <div class="clearfix"></div>

                                    </div>

                                    <input class="btn btn-success" type="submit" value=" Update Contents "/>
                                    <input type="hidden" name="_method" value="PUT"/>

                                </form>

                            </div>

                            <div class="tab-pane" id="tab_3">

                                <div class="row">
                                    {% for image in task.images %}
                                        <div class="col-md-3" style="margin-bottom: 20px;">
                                            <div class="thumb-box">
                                                <a href="{{ image.previewLink }}" target="_blank">
                                                    <img src="{{ image.thumbnailLink('w200') }}" />
                                                </a>
                                            </div>
                                        </div>
                                    {% endfor %}
                                </div>

                            </div>

                        </div>

                    </div>

                </div>

            </div>

        </div>

    </div>

{% endblock %}

{% block documentReady %}
<script>

</script>
{% endblock %}